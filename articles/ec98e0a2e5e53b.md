---
title: "ã€Dockerå…¥é–€#1ã€‘ Windowsã§ã®ç’°å¢ƒæ§‹ç¯‰"
emoji: "ğŸ‘»"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["docker", "windows", "wsl"]
published: true
---

## ğŸ”— é–¢é€£è¨˜äº‹

[ã€Dockerå…¥é–€#2ã€‘Hello Worldã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆ](https://zenn.dev/helloworld/articles/0028976d074b6f)

## ã¯ã˜ã‚ã«

ã“ã®è¨˜äº‹ã§ã¯ã€Windowsç’°å¢ƒã§Dockerã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’ä¸å¯§ã«è§£èª¬ã—ã¦ã„ãã¾ã™ã€‚
åˆã‚ã¦ã®æ–¹ã§ã‚‚å®‰å¿ƒã—ã¦é€²ã‚ã‚‰ã‚Œã‚‹ã‚ˆã†ã€ç”»åƒä»˜ãã§ç´¹ä»‹ã—ã¦ã„ãã¾ã™ã­ã€‚

## â‘  Windowsã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ã¾ãšã¯ã€Windowsã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã—ã‚‡ã†ã€‚
ä»¥ä¸‹ã®ãƒªãƒ³ã‚¯ã‹ã‚‰Microsoft Storeã‚’é–‹ã„ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã™ã€‚

ğŸ‘‰ [Microsoft Store â€“ Windows Terminal](https://aka.ms/terminal)

![Windowsã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«](https://raw.githubusercontent.com/takuya-motoshima/zenn-content/main/articles/ec98e0a2e5e53b/install-windows-terminal.png)

## â‘¡ Gitã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

æ¬¡ã«Gitã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

1. [å…¬å¼ã‚µã‚¤ãƒˆ](https://git-scm.com/download/win)ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦å®Ÿè¡Œã—ã¾ã™ã€‚

2. ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã«åŒæ„ã—ã¦ã€Œæ¬¡ã¸ã€ã€‚

   ![Gitã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«1](https://raw.githubusercontent.com/takuya-motoshima/zenn-content/main/articles/ec98e0a2e5e53b/install-git-1.png)

3. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®é¸æŠã§ã¯ãã®ã¾ã¾ã€Œæ¬¡ã¸ã€ã€‚

   ![Gitã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«2](https://raw.githubusercontent.com/takuya-motoshima/zenn-content/main/articles/ec98e0a2e5e53b/install-git-2.png)

4. ãƒ–ãƒ©ãƒ³ãƒåã¯ã€Œmainã€ã«ã—ã¦ãŠãã¨GitHubã¨ç›¸æ€§â—ã€‚

   ![Gitã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«3](https://raw.githubusercontent.com/takuya-motoshima/zenn-content/main/articles/ec98e0a2e5e53b/install-git-3.png)

5. èªè¨¼è£œåŠ©ã«ã¯ã€ŒGit Credential Manager Coreã€ã‚’é¸ã‚“ã§ãŠãã¨ä¾¿åˆ©ã§ã™ã€‚
   ï¼ˆ2å›ç›®ä»¥é™ã®ãƒ­ã‚°ã‚¤ãƒ³ãŒæ¥½ã«ãªã‚Šã¾ã™ï¼‰

   ![Gitã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«4](https://raw.githubusercontent.com/takuya-motoshima/zenn-content/main/articles/ec98e0a2e5e53b/install-git-4.png)

6. æœ€å¾Œã«ãã®ã¾ã¾é€²ã‚ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å®Œäº†ï¼

   ![Gitã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«5](https://raw.githubusercontent.com/takuya-motoshima/zenn-content/main/articles/ec98e0a2e5e53b/install-git-5.png)

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒçµ‚ã‚ã£ãŸã‚‰ã€Git Bashã‚’é–‹ã„ã¦å‹•ä½œç¢ºèªã—ã¾ã™ã€‚

```sh
git --version
# git version 2.32.0.windows.1
```

ã“ã‚Œã§Gitã®æº–å‚™ã¯OKã§ã™ï¼

## â‘¢ WSL2ã®æœ‰åŠ¹åŒ–

Dockerã‚’Windowsã§å¿«é©ã«ä½¿ã†ã«ã¯ã€WSL2ï¼ˆWindows Subsystem for Linux 2ï¼‰ã‚’æœ‰åŠ¹ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

### ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰ã§PowerShellã‚’èµ·å‹•

```sh
Start-Process powershell.exe -Verb runas
```

### å¿…è¦ãªæ©Ÿèƒ½ã‚’æœ‰åŠ¹åŒ–

```sh
dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart
dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart
```

### å†èµ·å‹•ã¨Linuxã‚«ãƒ¼ãƒãƒ«æ›´æ–°

PCã‚’å†èµ·å‹•å¾Œã€ä»¥ä¸‹ã®ãƒªãƒ³ã‚¯ã‹ã‚‰ã‚«ãƒ¼ãƒãƒ«æ›´æ–°ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

ğŸ‘‰ [WSL2 ã‚«ãƒ¼ãƒãƒ«æ›´æ–°](https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi)

![WSLã‚«ãƒ¼ãƒãƒ«æ›´æ–°](https://raw.githubusercontent.com/takuya-motoshima/zenn-content/main/articles/ec98e0a2e5e53b/enable-wsl2-1.png)

### ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆWSLãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®è¨­å®š

```sh
wsl --set-default-version 2
```

### Ubuntuã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ä»¥ä¸‹ã®ãƒªãƒ³ã‚¯ã‹ã‚‰ã€ŒUbuntu 20.04 LTSã€ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

ğŸ‘‰ [Ubuntu 20.04 LTS â€“ Microsoft Store](https://www.microsoft.com/store/apps/9n6svws3rx71)

![Ubuntuã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«](https://raw.githubusercontent.com/takuya-motoshima/zenn-content/main/articles/ec98e0a2e5e53b/enable-wsl2-2.png)

åˆå›èµ·å‹•æ™‚ã«ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®šã—ã¾ã™ã€‚

```sh
Enter new UNIX username: takuya-motoshima
New password:
Retype new password:
passwd: password updated successfully
```

ã“ã‚Œã§WSL2ã®æº–å‚™ã¯å®Œäº†ã§ã™ï¼

## â‘£ Dockerã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

1. [Dockerå…¬å¼ã‚µã‚¤ãƒˆ](https://www.docker.com/)ã‚’é–‹ãã€ã€ŒGet startedã€ã‹ã‚‰Docker Desktopã®ãƒšãƒ¼ã‚¸ã¸ã€‚

2. ã€ŒDownload for Windowsã€ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚

   ![Dockerã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰](https://raw.githubusercontent.com/takuya-motoshima/zenn-content/main/articles/ec98e0a2e5e53b/install-docker-2.png)

3. ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ã‚’å®Ÿè¡Œã—ã€ã€ŒInstall required Windows components for WSL 2ã€ã«ãƒã‚§ãƒƒã‚¯ãŒã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦æ¬¡ã¸ã€‚

   ![Dockerã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«](https://raw.githubusercontent.com/takuya-motoshima/zenn-content/main/articles/ec98e0a2e5e53b/install-docker-3.png)

4. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å®Œäº†å¾Œã€Docker Desktopã‚’èµ·å‹•ã€‚

   ![Dockerèµ·å‹•](https://raw.githubusercontent.com/takuya-motoshima/zenn-content/main/articles/ec98e0a2e5e53b/install-docker-4.png)

5. ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã¯ã€ŒSkipã€ã§ã‚¹ã‚­ãƒƒãƒ—ã€‚

   ![Dockerã‚¹ã‚­ãƒƒãƒ—](https://raw.githubusercontent.com/takuya-motoshima/zenn-content/main/articles/ec98e0a2e5e53b/install-docker-5.png)

6. ã€ŒSettings â†’ Resources â†’ WSL Integrationã€ã§ã€ŒUbuntu-20.04ã€ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã€Dockerã‚’WSLä¸Šã§ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

   ![Docker WSLçµ±åˆ](https://raw.githubusercontent.com/takuya-motoshima/zenn-content/main/articles/ec98e0a2e5e53b/install-docker-6.png)

ã“ã‚Œã§Dockerç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¯å®Œäº†ã§ã™ï¼

## â‘¤ Hello Worldã‚³ãƒ³ãƒ†ãƒŠã‚’å‹•ã‹ã—ã¦ã¿ã‚ˆã†ï¼

ã•ã£ããDockerãŒã¡ã‚ƒã‚“ã¨å‹•ã„ã¦ã„ã‚‹ã‹è©¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼

Ubuntu-20.04ï¼ˆWSL2ï¼‰ã‚’Windows Terminalã‹ã‚‰èµ·å‹•ã—ã¾ã™ã€‚

```sh
docker container run hello-world
```

ã™ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚

```sh
Hello from Docker!
This message shows that your installation appears to be working correctly.
...
```

ã“ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå‡ºã‚Œã°ã€Dockerã¯ã¡ã‚ƒã‚“ã¨å‹•ã„ã¦ã„ã¾ã™ï¼

## â‘¥ ã‚³ãƒ³ãƒ†ãƒŠã¨ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ç¢ºèªãƒ»å‰Šé™¤

### ã‚¤ãƒ¡ãƒ¼ã‚¸ä¸€è¦§ã®ç¢ºèª

```sh
docker image ls
```

### åœæ­¢ä¸­ã®ã‚³ãƒ³ãƒ†ãƒŠã‚‚å«ã‚ã¦ä¸€è¦§è¡¨ç¤º

```sh
docker container ls -a
```

### ã‚³ãƒ³ãƒ†ãƒŠã‚’å‰Šé™¤

```sh
docker container rm <ã‚³ãƒ³ãƒ†ãƒŠID>
```

### ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å‰Šé™¤

```sh
docker image rm <ã‚¤ãƒ¡ãƒ¼ã‚¸ID>
```

æœ€å¾Œã«ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã—ã¦ãŠãã¨ã€ç’°å¢ƒãŒã‚¹ãƒƒã‚­ãƒªã—ã¾ã™ï¼

## ãŠã‚ã‚Šã«

ã“ã‚Œã§Dockerã®ç’°å¢ƒæ§‹ç¯‰ã¯ãƒãƒƒãƒãƒªã§ã™ï¼
æ¬¡å›ã¯ã€å®Ÿéš›ã«ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦Dockerã®åŸºæœ¬æ“ä½œã«æ…£ã‚Œã¦ã„ãã¾ã—ã‚‡ã† ğŸš€

ğŸ‘‰ ç¶šãã¯ã“ã¡ã‚‰ï¼š[ã€Dockerå…¥é–€#2ã€‘Hello Worldã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆ](https://zenn.dev/helloworld/articles/0028976d074b6f)
